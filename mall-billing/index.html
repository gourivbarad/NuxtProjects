<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Billing</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class=" flex justify-center items-center " >
      <div class="bg-teal-100 h-auto p-4 mt-16" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
        <div class="grid grid-cols-4 gap-4 bg-teal-400 p-4 pr-6">
          <div class=" p-1 lg:w-40 w-20 lg:text-xl font-normal ">Name</div>
          <div class=" p-1 lg:w-40 w-20 lg:text-xl font-normal">Price</div>
          <div class=" p-1 lg:w-40 w-20 lg:text-xl font-normal">Quantity</div>
          <a href="#">
            <div class=" p-1 lg:w-40 w-20 lg:text-xl font-normal bg-green-500 text-center border border-green-200" id="add" onclick="add()" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">Add</div>
            </a>
        </div>
        <div class="grid grid-cols-4 gap-4 mb-4">
            <div class="mt-3 mb-3">
                <input
                type="text"
                id="name"
                placeholder=""
                class=" bg-white p-2 text-xl font-normal lg:w-40 w-20">
            </div>
            <div class="mt-3 mb-3">
                <input
                type="text"
                id="price"
                placeholder=""
                class=" bg-white p-2 text-xl font-normal lg:w-40 w-20">
            </div>
            <div class="mt-3 mb-3"><input
                type="number"
                id="quantity"
                placeholder=""
                class=" bg-white p-2 text-xl font-normal lg:w-40 w-20">
            </div>
        </div >
        
        <div class="" id="cart">
            <hr style="border: 1px solid #115e59">
            <div class="text-2xl font-normal font-sans mt-1">Cart</div>
            <div class="grid grid-cols-6 gap-5">
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal ">Sr.No.</div>
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal ">Name</div>
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal">Price</div>
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal">Quantity</div>
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal">Total</div>
                <div class=" p-2 lg:w-40 w-20 lg:text-xl font-normal"></div>
              </div>
            <div class="" id="items"></div>
            <div class="grid grid-cols-6 gap-4 mt-4">
                <div class=" p-2 lg:w-40 w-20 text-xl font-normal "></div>
                <div class=" p-2 lg:w-40 w-20 text-xl font-normal"></div>
                <div class=" p-2 lg:w-40 w-20 text-xl font-normal"></div>
                <div class=" p-2 lg:w-40 w-20 bg-white lg:text-xl font-normal">Total</div>
                <div class=" p-2 lg:w-40 w-20 bg-white lg:text-xl font-normal" id="total"></div>
                
              </div>
            
        </div>
        
        
            
      
    </div>
    <script>
        

        var id = 1;
        function add(){
            
            var a=document.getElementById("add");
            var i=document.getElementById("items")
            var n=document.getElementById("name");
            var p=document.getElementById("price");
            var q=document.getElementById("quantity");

            var t=`<div class="grid grid-cols-6 gap-5 " id="item${id}">
                <div class="bg-white p-2 lg:w-40 w-20 mt-1 mb-1" id="${id}">${id}</div>
                <div class="bg-white p-2 lg:w-40 w-20 mt-1 mb-1">${n.value}</div>
                <div class="bg-white p-2 lg:w-40 w-20 mt-1 mb-1">${p.value}</div>
                <div class="bg-white p-2 lg:w-40 w-20 mt-1 mb-1">${q.value}</div>
                <div class="bg-white p-2 lg:w-40 w-20 mt-1 mb-1" id="sum${id}">${(p.value)*(q.value)}</div>
                <a href=#><div  onclick="del(${id})">
                    <div class=" bg-white border border-white p-2 w-9 mt-1 mb-1 text-xl font-normal" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="fill-red-500">
                            <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg>
                    </div>
                </div></a>
              </div>`

            i.innerHTML+=t;
            y=(p.value)*(q.value)
            
            //var x=y+x;

            
            
            n.value="";
            p.value="";
            q.value="";

            id+=1;           
            document.getElementById("total").innerHTML=Number(document.getElementById("total").innerHTML)+Number(y); 
        }

        function del(toDeleteId){
            let t=document.getElementById("sum"+toDeleteId).innerHTML
            console.log((document.getElementById(toDeleteId).innerHTML)-1);
            console.log(t);
            document.getElementById(`item${toDeleteId}`).remove()
            document.getElementById("total").innerHTML-=t
            var items=document.getElementById("items").childNodes
            console.log(items.length, "hello")
            for(var index=0;items.length>index;index++){
                //console.log(items[index].childNodes, "nodes")
                items[index].childNodes[1].innerHTML = index+1
                id=index+2
                
            }
        
        }
        
    </script>
  </body>
</html>
